<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Реки и ГЭС</title>
</head>
<body>

<!--<tbody>-->
<h1>Выбор реки и ГЭС</h1>

<div class="select-container">
    <label for="river">Река:</label>
    <select id="river" name="river">
        <option value="">-- Выберите реку --</option>
        <option value="Ангара">Ангара</option>
        <option value="Зея">Зея</option>
        <option value="Бурея">Бурея</option>
        <option value="Колыма">Колыма</option>
        <option value="Волга">Волга</option>
        <option value="Кама">Кама</option>
        <option value="Енисей">Енисей</option>
        <option value="Обь">Обь</option>
        <option value="Аварское_Койсу">Аварское Койсу</option>
        <option value="Сулак">Сулак</option>
        <option value="Вилюй">Вилюй</option>
    </select>
</div>

<div class="select-container">
    <label for="ges">ГЭС:</label>
    <select id="ges" name="ges" disabled>
        <option value="">-- Сначала выберите реку --</option>
    </select>
</div>

<div class="col-sm-2">
    <label class="date" for="input_date">Выберите дату запроса:</label>
    <input
            class="date"
            type="date"
            id="input_date"
            name="date"
            min="2013-07-01">
    <!-- max будет установлен скриптом -->
</div>

<td>
    <button id='send_request' onclick='send_request()'>Запрос данный на RusHydro (за 30 дней)</button>
</td>

<br>

<tr>-------------------------------------------------------------------------------------------------</tr>

<div class="col-sm-4">
    <label class="date" for="input_dateStart">Начальная дата для графика:</label>
    <input
            class="date"
            type="date"
            id="input_dateStart"
            name="input_dateStart"
            min="2013-07-01">
</div>

<div class="col-sm-4">
    <label class="date" for="input_dateFinish">Конечная дата для графика:</label>
    <input
            class="date"
            type="date"
            id="input_dateFinish"
            name="input_dateFinish"
            min="2013-07-01">
</div>

<tr>-------------------------------------------------------------------------------------------------<br>
</tr>

<td>
    <button id='send_requestToDB' onclick='send_requestToDB()'>Построить график в выбранном диапазоне дат4</button>
</td>

<tr><br> -------------------------------------------------------------------------------------------------<br>
</tr>

<div class="button-container">
    <!-- Кнопка для перехода на другую страницу -->
    <button class="nav-button" onclick="window.location.href='/'">
        RESET
    </button>
</div>

<h1>Управление краулером</h1>

<div id="currentParams">
    <h2>Текущие параметры:</h2>
    <p>Река: <span id="currentRiver"></span></p>
    <p>ГЭС: <span id="currentGes"></span></p>
    <p>Дата: <span id="currentDate"></span></p>
</div>

<div class="button-container">
    <button id='loadCurrentParams' onclick='loadCurrentParams()'>Обновить параметры2</button>
</div>



<!--<button type="button" id="refreshParamsBtn">Обновить параметры!!</button>-->

<!--<script>-->
<!--    document.getElementById('refreshParamsBtn').addEventListener('click', loadCurrentParams);-->
<!--</script>-->


<!--</form>-->

<!--<button onclick="startCrawling()">Запустить краулинг</button>-->

<!--<script>-->
<!--    // Загрузить текущие параметры при загрузке страницы-->
<!--    // document.addEventListener('DOMContentLoaded', loadCurrentParams);-->

<!--    // async function loadCurrentParams() {-->
<!--    //     try {-->
<!--    //         const response = await axios.get('http://localhost:8082/api/crawler/params');-->
<!--    //         document.getElementById('currentRiver').textContent = response.data.river;-->
<!--    //         document.getElementById('currentGes').textContent = response.data.ges;-->
<!--    //         document.getElementById('currentDate').textContent = response.data.date;-->
<!--    //-->
<!--    //         // Установить значения в форму-->
<!--    //         document.getElementById('river').value = response.data.river;-->
<!--    //         document.getElementById('ges').value = response.data.ges;-->
<!--    //         document.getElementById('date').value = response.data.date;-->
<!--    //     } catch (error) {-->
<!--    //         console.error('Ошибка при загрузке параметров:', error);-->
<!--    //     }-->
<!--    // }-->

<!--    async function updateParams() {-->
<!--        const params = {-->
<!--            river: document.getElementById('riverNew').value,-->
<!--            ges: document.getElementById('gesNew').value,-->
<!--            date: document.getElementById('dateNew').value-->
<!--        };-->

<!--        try {-->
<!--            // await axios.post('/api/crawler/params', params);-->
<!--            await axios.post('http://localhost:8082/api/crawler/params', params);-->
<!--            loadCurrentParams(); // Обновить отображение-->
<!--            alert('Параметры успешно обновлены');-->
<!--        } catch (error) {-->
<!--            console.error('Ошибка при обновлении параметров:', error);-->
<!--            alert('Ошибка при обновлении параметров');-->
<!--        }-->
<!--    }-->

<!--    async function startCrawling() {-->
<!--        try {-->
<!--            // const response = await axios.post('/api/crawler/start');-->
<!--            const response = await axios.post('http://localhost:8082/api/crawler/start');-->
<!--            alert(response.data);-->
<!--        } catch (error) {-->
<!--            console.error('Ошибка при запуске краулинга:', error);-->
<!--            alert('Ошибка при запуске краулинга');-->
<!--        }-->
<!--    }-->
<!--</script>-->


<!-- Подключаем JavaScript -->
<link rel="stylesheet" href="/css/index.css">
<script src="/js/jquery.js"></script>
<script src="/js/indexScript.js"></script>

</body>
</html>